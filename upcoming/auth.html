<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login</title>
    <link rel="icon" href="https://i.ibb.co/SXS3ckB/20231003-050505.png"/>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes glow {
            0% {
                box-shadow: 0 0 5px 0px rgba(0, 0, 255, 0.7);
            }
            50% {
                box-shadow: 0 0 20px 10px rgba(0, 0, 255, 0.4);
            }
            100% {
                box-shadow: 0 0 5px 0px rgba(0, 0, 255, 0.7);
            }
        }

        body {
            animation: fadeInUp 1s ease;
        }

        .w-full, .mb-4, .block {
            animation: slideInLeft 1s ease;
        }

        .login-box {
            animation: glow 2s infinite;
        }

        .login-box button {
            animation: fadeInUp 1s ease;
        }

        /* Add this CSS for the error message to animate */
        .text-red-500 {
            animation: slideInLeft 1s ease;
        }
    </style>
    <script>
        function handleRightClick(event) {
            if (event.button === 2) {
                alert("What Are You Doing? Fuck Off Dude..");
                event.preventDefault();
            }
        }

        document.addEventListener("contextmenu", handleRightClick);

        // Function to get the client's IP address using "ipify" API
        function getClientIP() {
            return fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => data.ip);
        }

        document.addEventListener("DOMContentLoaded", () => {
            // Define the allowed IP address
            const allowedIP = '223.224.27.209';

            // Get the client's IP address
            getClientIP()
                .then(clientIP => {
                    if (clientIP === allowedIP) {
                        // IP address allowed, proceed with Firebase initialization
                        const firebaseConfig = {
                            apiKey: "AIzaSyAcbV1n39Ze2wTtVIYmkLkWDUFN2ERhGIg",
                            authDomain: "kmaxmods-web.firebaseapp.com",
                            databaseURL: "https://kmaxmods-web-default-rtdb.firebaseio.com",
                            projectId: "kmaxmods-web",
                            storageBucket: "kmaxmods-web.appspot.com",
                            messagingSenderId: "782482276375",
                            appId: "1:782482276375:web:7463a94068b20e5f125c52"
                        };
                        firebase.initializeApp(firebaseConfig);

                        const loginBtn = document.getElementById("loginBtn");
                        const emailInput = document.getElementById("email");
                        const passwordInput = document.getElementById("password");
                        const errorText = document.getElementById("error");

                        loginBtn.addEventListener("click", () => {
                            const email = emailInput.value;
                            const password = passwordInput.value;

                            firebase.auth().signInWithEmailAndPassword(email, password)
                                .then(() => {
                                    // Successfully logged in
                                    window.location.href = "index.html"; // Redirect to the index page
                                })
                                .catch((error) => {
                                    // Handle errors
                                    errorText.textContent = error.message;
                                });
                        });
                    } else {
                        // IP address not allowed, show an error message
                        document.getElementById("error").textContent = "Access denied from your IP address.";
                    }
                })
                .catch(error => {
                    console.error("Error getting client IP:", error);
                    // Handle errors when fetching client IP
                });
        });
    </script>
</head>
<body class="bg-gray-100 min-h-screen flex justify-center items-center">
    <div class="w-full md:w-1/2 lg:w-1/3 mx-4">
        <div class="bg-white p-4 md:p-8 rounded-lg shadow-md login-box">
            <h1 class="text-2xl md:text-3xl text-center mb-4">Admin Login</h1>
            <div class="mb-4">
                <label for="email" class="block font-bold">Email:</label>
                <input type="email" id="email" class="w-full rounded-md border border-gray-300 py-2 px-3" />
            </div>
            <div class="mb-4">
                <label for="password" class="block font-bold">Password:</label>
                <input type="password" id="password" class="w-full rounded-md border border-gray-300 py-2 px-3" />
            </div>
            <button id="loginBtn" class="bg-blue-500 text-white rounded-md py-2 px-4 w-full hover:bg-blue-700 focus:outline-none">Login</button>
            <p id="error" class="text-red-500 mt-2 text-center"></p>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-auth-compat.js"></script>
</body>
</html>


